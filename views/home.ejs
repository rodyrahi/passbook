<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />

</head>
<style>
    .container {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 90vh;
    }
</style>

<body>
    <div class="container">
        <div class="row">



                <div class="mb-3 input-group d-flex">

                    <span class="input-group-text"><i class="fas fa-search"></i></span>
                    <input type="text" id="searchInput" class="form-control" name="search" value="" placeholder="Enter Name Here..">

                </div>
                
    


            <form action="/getfile" class="mb-3" method="post" enctype="multipart/form-data">
                <div class="mb-3">
                    <input type="file" class="form-control" name="pdf">
                    <input type="text" style="display: none;" name="user" value="<%= user %>">
                </div>
                <button type="submit" class="btn btn-success">Create</button>
            </form>
            <hr>

            <ul id="passbookList" class="list-unstyled">
                <% passbooks.forEach(element => { %>
                  <li>
                    <div class="border rounded-1 p-2 m-2 d-flex">
                      <div class="col">
                        <%= element.name %>
                      </div>
                      <div class="text-end col">
                        <form action="/details" method="post">
                            <input type="text" value="<%= element.name %>" name="name" style="display: none;">
                            <input type="text" value="<%= element.fathername %>" name="fathername" style="display: none;">
                            <input type="text" value="<%= element.accountno %>" name="accountno" style="display: none;">
                            <input type="text" value="<%= element.cifno %>" name="cifno" style="display: none;">
                            <input type="text" value="<%= element.ifsccode %>" name="ifsccode" style="display: none;">
                            <input type="text" value="<%= element.mobileno %>" name="mobileno" style="display: none;">
                            <input type="text" value="<%= element.idno %>" name="idno" style="display: none;">
                            <input type="text" value="<%= element.kocode %>" name="kocode" style="display: none;">

                            <button class="btn btn-success btn-sm">View</button>
                        </form>
                      </div>
                    </div>
                  </li>
                <% }) %>
              </ul>
        </div>
    </div>
</body>

</html>


<script>
    const searchInput = document.getElementById('searchInput');
    const passbookList = document.getElementById('passbookList').getElementsByTagName('li');


searchInput.addEventListener('input', function() {
  const searchValue = this.value.toLowerCase();

  for (let i = 0; i < passbookList.length; i++) {
    const passbook = passbookList[i];
    const passbookName = passbook.textContent.toLowerCase();

    if (passbookName.includes(searchValue)) {
      passbook.style.display = 'block';
    } else {
      passbook.style.display = 'none';
    }
  }
});
</script>